*************** my $err = gensym();
*** 18,23 ****
  
  my @extraargs;
  push(@extraargs, '/nologo') if $^O eq 'MSWin32' && $Config{cc} eq 'cl';
  my $cmd = "$Config{cc} -o $output $input " . join(' ', @extraargs);
  diag( "compiling test program with: $cmd" );
  my $pid = open3(undef, $out, $err, $cmd);
--- 18,24 ----
  
  my @extraargs;
  push(@extraargs, '/nologo') if $^O eq 'MSWin32' && $Config{cc} eq 'cl';
+ push(@extraargs, '-Zexe') if $^O eq 'os2';
  my $cmd = "$Config{cc} -o $output $input " . join(' ', @extraargs);
  diag( "compiling test program with: $cmd" );
  my $pid = open3(undef, $out, $err, $cmd);
